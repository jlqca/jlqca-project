<div class="canvas-board-container">
  <!-- Header -->
  <header class="board-header">
    <div class="header-left">
      <button class="back-btn" (click)="goBack()">
        â† Voltar
      </button>
      <h1 class="board-title">Lousa Colaborativa</h1>
    </div>
  </header>

  <!-- Main Board Area -->
  <div class="board-content">
    <!-- Toolbar -->
    <aside class="board-toolbar">
      <div class="toolbar-section">
        <h3>Ferramentas</h3>
        <div class="tool-buttons">
          <button
            class="tool-btn"
            [class.active]="currentTool === 'pencil'"
            (click)="selectTool('pencil')"
            title="LÃ¡pis">
            âœï¸
          </button>
          <button
            class="tool-btn"
            [class.active]="currentTool === 'eraser'"
            (click)="selectTool('eraser')"
            title="Borracha">
            ğŸ§¹
          </button>
          <button
            class="tool-btn"
            [class.active]="currentTool === 'select'"
            (click)="selectTool('select')"
            title="Selecionar Ãrea">
            â¬š
          </button>
        </div>
      </div>

      <div class="toolbar-section">
        <h3>Cores</h3>
        <div class="color-picker">
          <button
            *ngFor="let color of ['#000000', '#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff', '#ffffff']"
            class="color-btn"
            [style.background-color]="color"
            [class.active]="currentColor === color"
            (click)="changeColor(color)">
          </button>
          <input
            type="color"
            [(ngModel)]="currentColor"
            (change)="changeColor(currentColor)"
            class="color-input">
        </div>
      </div>

      <div class="toolbar-section">
        <h3>Espessura</h3>
        <div class="line-width-control">
          <input
            type="range"
            min="1"
            max="20"
            [(ngModel)]="lineWidth"
            (input)="changeLineWidth(lineWidth)"
            class="width-slider">
          <span class="width-value">{{lineWidth}}px</span>
        </div>
      </div>

      <div class="toolbar-section">
        <h3>AÃ§Ãµes</h3>
        <div class="action-buttons">
          <button class="action-btn" (click)="undo()" title="Desfazer">â†¶ Desfazer</button>
          <button class="action-btn" (click)="redo()" title="Refazer">â†· Refazer</button>
          <button class="action-btn" (click)="clearCanvas()" title="Limpar Tudo">ğŸ—‘ï¸ Limpar</button>
          <button class="action-btn" (click)="downloadImage()" title="Baixar Imagem">ğŸ’¾ Salvar</button>
        </div>
      </div>
    </aside>

    <!-- Canvas Area -->
    <div class="canvas-wrapper">
      <canvas
        #drawingCanvas
        class="drawing-canvas"
        (mousedown)="startDrawing($event)"
        (mousemove)="draw($event)"
        (mouseup)="stopDrawing()"
        (mouseleave)="stopDrawing()">
      </canvas>
    </div>
  </div>
</div>
